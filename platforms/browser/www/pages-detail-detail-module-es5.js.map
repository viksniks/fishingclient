{"version":3,"sources":["webpack:///src/app/pages/detail/detail.page.html","webpack:///src/app/pages/detail/detail-routing.module.ts","webpack:///src/app/pages/detail/detail.module.ts","webpack:///src/app/pages/detail/detail.page.scss","webpack:///src/app/pages/detail/detail.page.ts"],"names":["routes","path","component","DetailPageRoutingModule","imports","forChild","exports","DetailPageModule","declarations","DetailPage","route","translate","storage","core","platform","Toast","SocialSharing","ngZone","navCtrl","AdMobFree","FirebaseAnalytics","alertCtrl","utilities","tts","posts","isFont","fontsize","value","max","min","speaking","rewards","key","subs","get","subscribe","trans","length","socialShare","snapshot","params","Object","assign","data","id","Number","type","slug","viewMode","setEndpoint","isInteger","then","detail","getHostname","hostname","getContent","bookmarked","prepareView","getPosts","platformReady","options","text","title","rendered","trim","locale","rate","speak","val","alert","JSON","stringify","err","stop","unsubscribe","endpoint","ready","is","getState","interstitial","isReady","show","setState","getConfig","patchConfig","window","prepare","stopMedia","banner","isRefresh","request","Array","isArray","loading","error","indexOf","updateBookmark","post","postRequired","required","showAlertRewards","set","setContent","encodeURIComponent","create","header","message","buttons","handler","showRewards","present","on","events","REWARD_VIDEO_LOAD","pipe","hideLoading","rewardVideo","REWARD_VIDEO_REWARD","run","REWARD_VIDEO_LOAD_FAIL","showLoading","logEvent","link","categories","join","exclude","concat","refresher","target","complete","updateTime","showShortCenter","remove","document","createElement","innerHTML","textContent","decodeURIComponent","share","item","app","canShareVia","shareViaWhatsApp","shareVia","showLongCenter","navigateBack","navigateForward","_loading","read","selector","template","encapsulation","None","providers"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,uBAAuB;AAAA;AAAA,O;;AAAvBA,6BAAuB,6DAJnC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAImC,GAAvBH,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCOAI,gBAAgB;AAAA;AAAA,O;;AAAhBA,sBAAgB,6DAX5B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mEAJO,EAKP,8EALO,EAMP,8EANO,CADD;AASRI,oBAAY,EAAE,CAAC,uDAAD;AATN,OAAT,CAW4B,GAAhBD,gBAAgB,CAAhB;;;;;;;;;;;;;;;;ACvBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCwBFE,UAAU;AAkDrB,4BACEC,KADF,EAEEC,SAFF,EAGUC,OAHV,EAIUC,IAJV,EAKUC,QALV,EAMUC,KANV,EAOUC,aAPV,EAQUC,MARV,EASUC,OATV,EAUUC,SAVV,EAWUC,iBAXV,EAYUC,SAZV,EAaUC,SAbV,EAcUC,GAdV,EAc0B;AAAA;;AAAA;;AAXhB,eAAAX,OAAA,GAAAA,OAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,aAAA,GAAAA,aAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,GAAA,GAAAA,GAAA,CAAgB,CA3C1B;;AACA,eAAAC,KAAA,GAAkB,EAAlB,CA0C0B,CArC1B;;AACA,eAAAC,MAAA,GAAkB,KAAlB,CAoC0B,CAnC1B;;AACA,eAAAC,QAAA,GAAgB;AACdC,iBAAK,EAAE,CADO;AAEdC,eAAG,EAAE,EAFS;AAGdC,eAAG,EAAE;AAHS,WAAhB;AAKA,eAAAC,QAAA,GAAiB,KAAjB,CA6B0B,CAtB1B;;AACA,eAAAC,OAAA,GAAe;AACbC,eAAG,EAAE,IADQ;AAEbC,gBAAI,EAAE,IAAI,gEAAJ;AAFO,WAAf;AAuBEtB,mBAAS,CAACuB,GAAV,CAAc,QAAd,EAAwBC,SAAxB,CAAkC,UAAAC,KAAK,EAAI;AACzC,iBAAI,CAACA,KAAL,GAAaA,KAAb;;AACA,gBAAI,KAAI,CAACA,KAAL,CAAW,cAAX,KAA8B,KAAI,CAACA,KAAL,CAAW,cAAX,EAA2BC,MAA3B,GAAoC,CAAtE,EAAyE;AACvE,mBAAI,CAACC,WAAL,GAAmB,KAAI,CAACF,KAAL,CAAW,cAAX,CAAnB;AACD;AACF,WALD,EAFwB,CAQxB;;AACA1B,eAAK,CAAC6B,QAAN,CAAeC,MAAf,GAAwBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhC,KAAK,CAAC6B,QAAN,CAAeC,MAAjC,EAAyC9B,KAAK,CAAC6B,QAAN,CAAeI,IAAxD,CAAxB;AACA,eAAKC,EAAL,GAAUC,MAAM,CAACnC,KAAK,CAAC6B,QAAN,CAAeC,MAAf,CAAsB,IAAtB,CAAD,CAAhB;AACA,eAAKM,IAAL,GAAYpC,KAAK,CAAC6B,QAAN,CAAeC,MAAf,CAAsB,MAAtB,CAAZ;AACA,eAAKO,IAAL,GAAYrC,KAAK,CAAC6B,QAAN,CAAeC,MAAf,CAAsB,MAAtB,CAAZ;AACA,eAAKQ,QAAL,GAAgB,CAAC,CAACtC,KAAK,CAAC6B,QAAN,CAAeC,MAAf,CAAsB,UAAtB,CAAlB;AACA,eAAKS,WAAL;;AACA,cAAIJ,MAAM,CAACK,SAAP,CAAiBL,MAAM,CAAC,KAAKD,EAAN,CAAvB,CAAJ,EAAuC;AACrC;AACAhC,mBAAO,CAACsB,GAAR,CAAY,6EAAkB,KAAKU,EAAnC,EAAuCO,IAAvC,CAA4C,UAAAC,MAAM,EAAI;AACpD,kBAAIA,MAAM,IAAI,KAAI,CAACvC,IAAL,CAAUwC,WAAV,CAAsBD,MAAM,CAAC,MAAD,CAA5B,KAAyC,KAAI,CAACvC,IAAL,CAAUyC,QAAjE,EAA2E;AACzE;AACA,qBAAI,CAACF,MAAL,GAAcA,MAAd;;AACA,qBAAI,CAACG,UAAL;;AACA,qBAAI,CAACC,UAAL,GAAkB,IAAlB;;AACA,qBAAI,CAACC,WAAL;AACD,eAND,MAMO,KAAI,CAACC,QAAL;AACR,aARD;AASD,WA1BuB,CA2BxB;;;AACA9C,iBAAO,CAACsB,GAAR,CAAY,UAAZ,EAAwBiB,IAAxB,CAA6B,UAAAzB,QAAQ,EAAI;AACvC,gBAAI,CAACA,QAAD,IAAaA,QAAQ,GAAG,KAAI,CAACA,QAAL,CAAc,KAAd,CAAxB,IAAgDA,QAAQ,GAAG,KAAI,CAACA,QAAL,CAAc,KAAd,CAA/D,EAAqF,KAAI,CAACA,QAAL,CAAc,OAAd,IAAyB,KAAI,CAACA,QAAL,CAAc,KAAd,IAAuB,CAAhD,CAArF,KACK,KAAI,CAACA,QAAL,CAAc,OAAd,IAAyBA,QAAzB;AACN,WAHD,EA5BwB,CAgCxB;;AACA,eAAKiC,aAAL;AACD;;AAlGoB;AAAA;AAAA,kCAmHhB;AAAA;;AAEH;AACA,gBAAG,KAAK7B,QAAL,IAAiB,IAApB,EACA;AACE,mBAAKA,QAAL,GAAgB,KAAhB;AACF,kBAAI8B,OAAO,GAAY;AACrBC,oBAAI,EAAC,KAAKT,MAAL,CAAYU,KAAZ,CAAkBC,QAAlB,CAA2BC,IAA3B,EADgB;AAErBC,sBAAM,EAAC,OAFc;AAGrBC,oBAAI,EAAC;AAHgB,eAAvB;AAQA,mBAAK3C,GAAL,CAAS4C,KAAT,CAAeP,OAAf,EAAwBT,IAAxB,CAA6B,UAACiB,GAAD,EAAO;AAClCC,qBAAK,CAACC,IAAI,CAACC,SAAL,CAAeH,GAAf,CAAD,CAAL;AAED,eAHD,EAGE,UAACI,GAAD,EAAO;AACPH,qBAAK,CAACC,IAAI,CAACC,SAAL,CAAeC,GAAf,CAAD,CAAL;AACD,eALD;AAMD,aAjBC,MAkBE;AACF,mBAAKjD,GAAL,CAASkD,IAAT,GAAgBtB,IAAhB,CAAqB,UAACiB,GAAD,EAAO;AAC1BC,qBAAK,CAACC,IAAI,CAACC,SAAL,CAAeH,GAAf,CAAD,CAAL;AACA,sBAAI,CAACtC,QAAL,GAAgB,IAAhB;AAGD,eALD,EAKE,UAAC0C,GAAD,EAAO;AACPH,qBAAK,CAACC,IAAI,CAACC,SAAL,CAAeC,GAAf,CAAD,CAAL;AACD,eAPD;AAUD;AACA;AApJoB;AAAA;AAAA,sCAqJZ;AAEP,iBAAKjD,GAAL,CAASkD,IAAT;AACD;AAxJoB;AAAA;AAAA,qCA0JV,CACV;AA3JoB;AAAA;AAAA,wCA6JP;AACZ,iBAAK1C,OAAL,CAAa,MAAb,EAAqB2C,WAArB;AACD;AA/JoB;AAAA;AAAA,wCAiKP;AACZ,gBAAI,KAAK5B,IAAT,EAAe;AACb,kBAAI,KAAKF,EAAT,EAAa,KAAK+B,QAAL,GAAgB,WAAW,KAAK/B,EAAhC,CAAb,KACK,IAAI,KAAKG,IAAT,EAAe,KAAK4B,QAAL,GAAgB,iBAAiB,KAAK5B,IAAtC;AACrB,aAHD,MAGO,KAAK4B,QAAL,GAAgB,WAAW,KAAK/B,EAAhC;AACR;AAtKoB;AAAA;AAAA,0CAwKL;AAAA;;AACd,iBAAK9B,QAAL,CAAc8D,KAAd,GAAsBzB,IAAtB,CAA2B,YAAM;AAC/B,kBAAI,CAAC,MAAI,CAACrC,QAAL,CAAc+D,EAAd,CAAiB,SAAjB,CAAL,EAAkC,OADH,CAE/B;;AACA,kBAAI,MAAI,CAAC1D,SAAT,EAAoB;AAClB,oBAAI,CAAC,MAAI,CAACN,IAAL,CAAUiE,QAAV,CAAmB,uBAAnB,CAAL,EAAkD;AAChD,wBAAI,CAAC3D,SAAL,CAAe4D,YAAf,CAA4BC,OAA5B,GAAsC7B,IAAtC,CAA2C,UAAAyB,KAAK,EAAI;AAClD,wBAAIA,KAAJ,EAAW,MAAI,CAACzD,SAAL,CAAe4D,YAAf,CAA4BE,IAA5B,YAAyC,YAAM,CAAG,CAAlD;AACZ,mBAFD,WAES,YAAM,CAAG,CAFlB;AAGD,iBAJD,MAIO,MAAI,CAACpE,IAAL,CAAUqE,QAAV,CAAmB,uBAAnB,EAA4C,KAA5C;AACR;AACF,aAVD;AAWD;AApLoB;AAAA;AAAA,4CAsLH;AAAA;;AAChB,iBAAKpE,QAAL,CAAc8D,KAAd,GAAsBzB,IAAtB,CAA2B,YAAM;AAC/B,kBAAI,CAAC,MAAI,CAACrC,QAAL,CAAc+D,EAAd,CAAiB,SAAjB,CAAL,EAAkC;;AAClC,kBAAI,MAAI,CAAC1D,SAAT,EAAoB;AAClB,oBAAI0B,MAAM,CAAC,MAAI,CAAChC,IAAL,CAAUsE,SAAV,CAAoB,WAApB,CAAD,CAAN,IAA4CtC,MAAM,CAAC,MAAI,CAAChC,IAAL,CAAUsE,SAAV,CAAoB,cAApB,CAAD,CAAtD,EAA6F;AAC3F;AACA,wBAAI,CAACtE,IAAL,CAAUuE,WAAV,CAAsB,cAAtB,EAAsC,CAAtC;;AACA,sBAAIC,MAAM,CAAC,OAAD,CAAN,IAAmBA,MAAM,CAAC,OAAD,CAAN,CAAgB,cAAhB,EAAgC,SAAhC,EAA2C,IAA3C,CAAvB,EACE,MAAI,CAAClE,SAAL,CAAe4D,YAAf,CAA4BO,OAA5B,YAA4C,YAAM,CAAG,CAArD;AACH;AACF,eAT8B,CAU/B;;;AACA,kBAAI,MAAI,CAACzE,IAAL,CAAUsE,SAAV,CAAoB,cAApB,CAAJ,EAAyC;AACvC,sBAAI,CAACtE,IAAL,CAAUuE,WAAV,CAAsB,cAAtB,EAAsCvC,MAAM,CAAC,MAAI,CAAChC,IAAL,CAAUsE,SAAV,CAAoB,cAApB,CAAD,CAAN,GAA8C,CAApF;AACD,eAFD,MAEO,MAAI,CAACtE,IAAL,CAAUuE,WAAV,CAAsB,cAAtB,EAAsC,CAAtC;AACR,aAdD;AAeD;AAtMoB;AAAA;AAAA,6CAwMF;AACjB;AACA,iBAAKG,SAAL,GAFiB,CAGjB;;AACA,gBAAIF,MAAM,CAAC,OAAD,CAAN,IAAmBA,MAAM,CAAC,OAAD,CAAN,CAAgB,QAAhB,EAA0B,SAA1B,EAAqC,IAArC,CAAnB,IAAiE,KAAKxE,IAAL,CAAUiE,QAAV,CAAmB,kBAAnB,CAArE,EAA6G;AAC3G,mBAAK3D,SAAL,CAAeqE,MAAf,CAAsBF,OAAtB,YAAsC,YAAM,CAAG,CAA/C;AACD;AACF;AA/MoB;AAAA;AAAA,mCAiNZX,QAjNY,EAiNOc,SAjNP,EAiN4B;AAAA;;AAC/C,gBAAI,CAAC,KAAKd,QAAN,IAAkB,CAACA,QAAvB,EAAiC;AACjC,iBAAK9D,IAAL,CAAU6E,OAAV,CAAkBf,QAAQ,IAAI,KAAKA,QAAnC,EAA6CxC,SAA7C,CAAuD,UAAAiB,MAAM,EAAI;AAC/D;AACA,kBAAI,CAAC,MAAI,CAACR,EAAN,IAAY,MAAI,CAACG,IAArB,EAA2B;AACzB,oBAAI4C,KAAK,CAACC,OAAN,CAAcxC,MAAd,KAAyBA,MAAM,CAACf,MAApC,EAA4C;AAC1Ce,wBAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACD,iBAFD,MAEO;AACL,sBAAIqC,SAAJ,EAAe,MAAI,CAACI,OAAL,GAAe,KAAf;AACf,wBAAI,CAACC,KAAL,GAAa,IAAb;AACA;AACD;AACF;;AACD,kBAAInB,QAAJ,EAAc,MAAI,CAAC7B,IAAL,GAAY6B,QAAQ,CAACoB,OAAT,CAAiB,QAAjB,KAA8B,CAA1C,CAXiD,CAY/D;;AACA,oBAAI,CAAC3C,MAAL,GAAcA,MAAd,CAb+D,CAc/D;;AACA,kBAAI,CAAC,MAAI,CAACR,EAAV,EAAc;AACZ,sBAAI,CAACA,EAAL,GAAU,MAAI,CAACQ,MAAL,CAAY,IAAZ,CAAV;;AACA,sBAAI,CAACH,WAAL;AACD,eAlB8D,CAmB/D;;;AACA,oBAAI,CAACM,UAAL;;AACA,kBAAIkC,SAAJ,EAAe;AACb,sBAAI,CAACI,OAAL,GAAe,KAAf;AACA,oBAAI,MAAI,CAACrC,UAAT,EAAqB,MAAI,CAACwC,cAAL;AACtB,eAHD,MAGO,MAAI,CAACvC,WAAL;;AACP,oBAAI,CAACqC,KAAL,GAAa,KAAb;AACD,aA1BD,EA0BG,UAAAtB,GAAG,EAAI;AACR,kBAAI,CAACG,QAAD,IAAaH,GAAG,CAAC,OAAD,CAAH,CAAa,MAAb,KAAwB,sBAAzC,EAAiE;AAC/D,sBAAI,CAACd,QAAL,CAAc,CAAC,MAAI,CAACiB,QAAL,CAAcoB,OAAd,CAAsB,QAAtB,KAAmC,CAAnC,GAAuC,QAAvC,GAAkD,QAAnD,IAA+D,MAAI,CAACnD,EAAlF;AACD,eAFD,MAEO,MAAI,CAACkD,KAAL,GAAa,IAAb;;AACP,kBAAIL,SAAJ,EAAe,MAAI,CAACI,OAAL,GAAe,KAAf;AAChB,aA/BD;AAgCD;AAnPoB;AAAA;AAAA,uCAqPR;AAAA;;AACX;AACA,gBAAI,KAAKzC,MAAT,EAAiB;AACf;AACA;AACA,kBAAI,CAAC,KAAK6C,IAAN,IAAc,KAAK7C,MAAL,CAAY,sBAAZ,CAAd,IAAqDiC,MAAM,CAAC,OAAD,CAA/D,EAA0E;AACxE,oBAAIa,YAAY,GAAG,KAAK9C,MAAL,CAAY,sBAAZ,CAAnB;AACA,qBAAKrB,OAAL,CAAa,KAAb,IAAsB,0BAA0B,KAAKqB,MAAL,CAAY,IAAZ,CAAhD;AACA,qBAAKxC,OAAL,CAAasB,GAAb,CAAiB,KAAKH,OAAL,CAAa,KAAb,CAAjB,EAAsCoB,IAAtC,CAA2C,UAAAgD,QAAQ,EAAI;AACrD,sBAAI,CAACA,QAAL,EAAeA,QAAQ,GAAGD,YAAX;;AACf,sBAAIC,QAAQ,IAAID,YAAhB,EAA8B;AAC5B,0BAAI,CAACE,gBAAL;AACD,mBAFD,MAEO;AACL,0BAAI,CAACxF,OAAL,CAAayF,GAAb,CAAiB,MAAI,CAACtE,OAAL,CAAa,KAAb,CAAjB,EAAsCoE,QAAQ,GAAG,CAAjD;;AACA,0BAAI,CAACG,UAAL;AACD;AACF,iBARD;AASD,eAZD,MAYO,KAAKA,UAAL;AACR;AACF;AAxQoB;AAAA;AAAA,uCA0QR;AACX;AACA,iBAAKlD,MAAL,CAAY,aAAZ,IAA6BmD,kBAAkB,CAAC,KAAKnD,MAAL,CAAY,MAAZ,CAAD,CAA/C;AACA,iBAAK6C,IAAL,GAAY,KAAK7C,MAAL,CAAY,SAAZ,EAAuB,UAAvB,CAAZ;AACA,iBAAKvC,IAAL,CAAUqE,QAAV,CAAmB,aAAnB,EAAkC,KAAK9B,MAAvC;AACD;AA/QoB;AAAA;AAAA,6CAiRI;;;;;;;;;;AACX,6BAAM,KAAK/B,SAAL,CAAemF,MAAf,CAAsB;AACtCC,8BAAM,EAAE,KAAKrE,KAAL,CAAW,SAAX,EAAsB,OAAtB,CAD8B;AAEtCsE,+BAAO,EAAE,KAAKtE,KAAL,CAAW,SAAX,EAAsB,SAAtB,CAF6B;AAGtCuE,+BAAO,EAAE,CACP;AACE9C,8BAAI,EAAE,KAAKzB,KAAL,CAAW,SAAX,EAAsB,KAAtB,CADR;AAEEwE,iCAAO,EAAE,mBAAM;AACb,kCAAI,CAACC,WAAL;AACD;AAJH,yBADO,EAOP;AAAEhD,8BAAI,EAAE,KAAKzB,KAAL,CAAW,SAAX,EAAsB,IAAtB;AAAR,yBAPO;AAH6B,uBAAtB,CAAN;;;AAARiC,2B;AAaJA,2BAAK,CAACyC,OAAN;;;;;;;;;AACD;AAhSoB;AAAA;AAAA,wCAkSP;AAAA;;AACZ,gBAAI,CAAC,KAAK3F,SAAV,EAAqB,OADT,CAEZ;;AACA,iBAAKY,OAAL,CAAa,MAAb,IAAuB,KAAKZ,SAAL,CAAe4F,EAAf,CAAkB,KAAK5F,SAAL,CAAe6F,MAAf,CAAsBC,iBAAxC,EAA2DC,IAA3D,CAAgE,6DAAK,CAAL,CAAhE,EAAyE/E,SAAzE,CAAmF,YAAM;AAC9G,oBAAI,CAACtB,IAAL,CAAUsG,WAAV;;AACA,oBAAI,CAAChG,SAAL,CAAeiG,WAAf,CAA2BnC,IAA3B,YAAwC,YAAM,CAAG,CAAjD;AACD,aAHsB,CAAvB;AAIA,iBAAKlD,OAAL,CAAa,MAAb,IAAuB,KAAKZ,SAAL,CAAe4F,EAAf,CAAkB,KAAK5F,SAAL,CAAe6F,MAAf,CAAsBK,mBAAxC,EAA6DH,IAA7D,CAAkE,6DAAK,CAAL,CAAlE,EAA2E/E,SAA3E,CAAqF,YAAM;AAChH,oBAAI,CAACvB,OAAL,CAAayF,GAAb,CAAiB,MAAI,CAACtE,OAAL,CAAa,KAAb,CAAjB,EAAsC,CAAtC;;AACA,oBAAI,CAACd,MAAL,CAAYqG,GAAZ,CAAgB,YAAM;AACpB,sBAAI,CAAChB,UAAL;AACD,eAFD;AAGD,aALsB,CAAvB;AAMA,iBAAKvE,OAAL,CAAa,MAAb,IAAuB,KAAKZ,SAAL,CAAe4F,EAAf,CAAkB,KAAK5F,SAAL,CAAe6F,MAAf,CAAsBO,sBAAxC,EAAgEpF,SAAhE,CAA0E,YAAM;AACrG,oBAAI,CAACtB,IAAL,CAAUsG,WAAV;;AACA,oBAAI,CAAClG,MAAL,CAAYqG,GAAZ,CAAgB,YAAM,CACpB;AACD,eAFD;;AAGA,oBAAI,CAACvF,OAAL,CAAa,MAAb,EAAqB2C,WAArB;AACD,aANsB,CAAvB;AAOA,iBAAKvD,SAAL,CAAeiG,WAAf,CAA2BpC,OAA3B,GAAqC7B,IAArC,CAA0C,UAAMyB,KAAN;AAAA,qBAAe;AAAA;AAAA;AAAA;AAAA;AACvD,4BAAIA,KAAJ,EAAW,KAAKzD,SAAL,CAAeiG,WAAf,CAA2BnC,IAA3B,YAAwC,YAAM,CAAG,CAAjD,EAAX,KACK;AACH,+BAAKpE,IAAL,CAAU2G,WAAV;AACA,+BAAKrG,SAAL,CAAeiG,WAAf,CAA2B9B,OAA3B,YAA2C,YAAM,CAAG,CAApD;AACD;;AALsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAf;AAAA,aAA1C,WAMS,YAAM,CAAG,CANlB;AAOD;AA7ToB;AAAA;AAAA,wCA+TP;AAAA;;AACZ,gBAAI,KAAKxE,QAAL,CAAc+D,EAAd,CAAiB,SAAjB,CAAJ,EAAiC;AAC/B,kBAAI,KAAKhE,IAAL,CAAUiE,QAAV,CAAmB,cAAnB,CAAJ,EAAwC,KAAK1D,iBAAL,CAAuBqG,QAAvB,CAAgC,iBAAhC,EAAmD;AACzF7E,kBAAE,EAAE,KAAKA,EADgF;AAEzFkB,qBAAK,EAAE,KAAKV,MAAL,CAAY,OAAZ,EAAqB,UAArB,CAFkF;AAGzFsE,oBAAI,EAAE,KAAKtE,MAAL,CAAY,MAAZ;AAHmF,eAAnD;AAKzC;;AACD,gBAAI,KAAKN,IAAT,EAAe;AACf,gBAAIN,MAAM,GAAG;AACXmF,wBAAU,EAAE,KAAKvE,MAAL,CAAY,YAAZ,EAA0BwE,IAA1B,CAA+B,GAA/B,CADD;AAEXC,qBAAO,EAAE,KAAKjF;AAFH,aAAb,CATY,CAaZ;;AACA,iBAAK/B,IAAL,CAAU6C,QAAV,CAAmBlB,MAAnB,EAA2BL,SAA3B,CAAqC,UAAAX,KAAK,EAAI;AAC5C,kBAAIA,KAAK,CAACa,MAAN,GAAe,CAAnB,EAAsB;AACpB,sBAAI,CAACb,KAAL,GAAa,EAAb;AACA,sBAAI,CAACA,KAAL,GAAa,MAAI,CAACA,KAAL,CAAWsG,MAAX,CAAkBtG,KAAlB,CAAb;AACD;AACF,aALD,EAKG,UAAAgD,GAAG,EAAI,CAAG,CALb;AAMD;AAnVoB;AAAA;AAAA,kCAqVbuD,SArVa,EAqVD;AAClB,gBAAIA,SAAJ,EAAeA,SAAS,CAACC,MAAV,CAAiBC,QAAjB;AACf,gBAAI,KAAKpC,OAAT,EAAkB,OAFA,CAGlB;;AACA,iBAAKA,OAAL,GAAe,IAAf,CAJkB,CAKlB;;AACA,iBAAKhF,IAAL,CAAUqH,UAAV;AACA,iBAAKxE,QAAL,CAAc,IAAd,EAAoB,IAApB;AACD;AA7VoB;AAAA;AAAA,sCA+VT;AACV,iBAAKpC,SAAL,CAAeiE,SAAf;AACD;AAjWoB;AAAA;AAAA,2CAmWJ;AACf;AACA,iBAAK3E,OAAL,CAAayF,GAAb,CAAiB,6EAAkB,KAAKjD,MAAL,CAAY,IAAZ,CAAnC,EAAsD,KAAKA,MAA3D;AACD;AAtWoB;AAAA;AAAA,2CAwWJ;AAAA;;AACf;AACA,iBAAKI,UAAL,GAAkB,CAAC,KAAKA,UAAxB;;AACA,gBAAI,KAAKA,UAAT,EAAqB;AACnB,mBAAKwC,cAAL;AACA,mBAAKjF,KAAL,CAAWoH,eAAX,CAA2B,KAAK/F,KAAL,CAAW,UAAX,CAA3B,EAAmDD,SAAnD,CAA6D,YAAM,CAAG,CAAtE,EAAwE,YAAM,CAAG,CAAjF;AACD,aAHD,MAGO;AACL,mBAAKvB,OAAL,CAAawH,MAAb,CAAoB,6EAAkB,KAAKxF,EAA3C,EAA+CO,IAA/C,CAAoD,YAAM;AACxD,uBAAI,CAACpC,KAAL,CAAWoH,eAAX,CAA2B,OAAI,CAAC/F,KAAL,CAAW,YAAX,CAA3B,EAAqDD,SAArD,CAA+D,YAAM,CAAG,CAAxE,EAA0E,YAAM,CAAG,CAAnF;AACD,eAFD;AAGD;AACF;AAnXoB;AAAA;AAAA,kCAqXb;AACN;AACA,gBAAI2B,KAAK,GAAGuE,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAZ;AACAxE,iBAAK,CAACyE,SAAN,GAAkB,KAAKnF,MAAL,CAAY,OAAZ,EAAqB,UAArB,CAAlB;AACA,gBAAIsE,IAAI,GAAGW,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX;AACAZ,gBAAI,CAACa,SAAL,GAAiB,KAAKnF,MAAL,CAAY,MAAZ,CAAjB;AACA,gBAAIsD,OAAO,GAAG5C,KAAK,CAAC0E,WAAN,GAAoB,MAApB,GAA6BC,kBAAkB,CAACf,IAAI,CAACc,WAAN,CAA7D;AACA,iBAAKxH,aAAL,CAAmB0H,KAAnB,CAAyBhC,OAAzB,EAAkC,IAAlC,EAAwC,IAAxC,EAA8C,IAA9C;AACD;AA7XoB;AAAA;AAAA,kCA+XbiC,IA/Xa,EA+XC;AAAA;;AACpB,gBAAI,CAACA,IAAL,EAAWA,IAAI,GAAG,EAAP;AACX,gBAAIC,GAAG,GAAG,KAAK9H,QAAL,CAAc+D,EAAd,CAAiB,KAAjB,IAA0B8D,IAAI,CAAC,KAAD,CAA9B,GAAwCA,IAAI,CAAC,SAAD,CAAtD;;AACA,gBAAIC,GAAG,IAAI,KAAKxF,MAAL,CAAY,MAAZ,CAAX,EAAgC;AAC9B,mBAAKpC,aAAL,CAAmB6H,WAAnB,CAA+BD,GAA/B,EAAoC,IAApC,EAA0C,IAA1C,EAAgD,IAAhD,EAAsD,KAAKxF,MAAL,CAAY,MAAZ,CAAtD,EAA2ED,IAA3E,CAAgF,YAAM;AACpF,wBAAQyF,GAAR;AACE,uBAAK,UAAL;AACE,2BAAI,CAAC5H,aAAL,CAAmB8H,gBAAnB,CAAoC,IAApC,EAA0C,IAA1C,EAAgD,OAAI,CAAC1F,MAAL,CAAY,MAAZ,CAAhD,WAA2E;AAAA,6BAAM,OAAI,CAACsF,KAAL,EAAN;AAAA,qBAA3E;;AACA;;AACF;AACE,2BAAI,CAAC1H,aAAL,CAAmB+H,QAAnB,CAA4BH,GAA5B,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,OAAI,CAACxF,MAAL,CAAY,MAAZ,CAAnD,WAA8E;AAAA,6BAAM,OAAI,CAACsF,KAAL,EAAN;AAAA,qBAA9E;;AACA;AANJ;AAQD,eATD,WASS,YAAM;AACb,uBAAI,CAACA,KAAL;AACD,eAXD;AAYD,aAbD,MAaO,KAAKA,KAAL;AACR;AAhZoB;AAAA;AAAA,uCAkZR;AACX;AACA,iBAAK9H,OAAL,CAAayF,GAAb,CAAiB,UAAjB,EAA6B,KAAK3E,QAAL,CAAc,OAAd,CAA7B;AACD;AArZoB;AAAA;AAAA,qCAuZV;AACT;AACA,gBAAI,CAAC,KAAK0B,MAAN,IAAgB,CAAC,KAAKA,MAAL,CAAY,iBAAZ,CAArB,EAAqD;AACnD,mBAAKrC,KAAL,CAAWiI,cAAX,CAA0B,KAAK5G,KAAL,CAAW,aAAX,CAA1B,EAAqDD,SAArD,CAA+D,YAAM,CAAG,CAAxE,EAA0E,YAAM,CAAG,CAAnF;AACA;AACD;;AACD,iBAAKjB,OAAL,CAAa+H,YAAb,CAA0B,CAAC,SAAD,EAAY,KAAK7F,MAAL,CAAY,iBAAZ,CAAZ,CAA1B;AACD;AA9ZoB;AAAA;AAAA,iCAgad;AACL;AACA,gBAAI,CAAC,KAAKA,MAAN,IAAgB,CAAC,KAAKA,MAAL,CAAY,aAAZ,CAArB,EAAiD;AAC/C,mBAAKrC,KAAL,CAAWiI,cAAX,CAA0B,KAAK5G,KAAL,CAAW,SAAX,CAA1B,EAAiDD,SAAjD,CAA2D,YAAM,CAAG,CAApE,EAAsE,YAAM,CAAG,CAA/E;AACA;AACD;;AACD,iBAAKjB,OAAL,CAAagI,eAAb,CAA6B,CAAC,SAAD,EAAY,KAAK9F,MAAL,CAAY,aAAZ,CAAZ,CAA7B;AACD;AAvaoB;AAAA;AAAA,8BAoGV;AACT,mBAAO,KAAK+F,QAAZ;AACD,WAtGoB;AAAA,4BAwGTxH,KAxGS,EAwGO;AAC1B,iBAAKwH,QAAL,GAAgBxH,KAAhB;;AACA,gBAAI,KAAKqB,QAAT,EAAmB;AACjB,kBAAIrB,KAAJ,EAAW;AACT,qBAAKd,IAAL,CAAU2G,WAAV;AACD,eAFD,MAEO;AACL,qBAAK3G,IAAL,CAAUsG,WAAV;AACD;AACF;AACF;AAjHoB;;AAAA;AAAA,S;;;;gBAtBd;;gBACA;;gBACA;;gBACA;;gBAJA;;gBAKA;;gBACA;;gBAPsC;;gBAChB;;gBAOtB;;gBACA;;gBARqC;;gBAUrC;;gBAID;;;;;;gBAWL,uD;AAAS,iBAAC,SAAD,EAAY;AAAEiC,gBAAI,EAAE,yDAAR;AAAoB,sBAAQ;AAA5B,WAAZ;;;gBAET,uD;AAAS,iBAAC,aAAD,EAAgB;AAAEA,gBAAI,EAAE,4GAAR;AAA8B,sBAAQ;AAAtC,WAAhB;;;AAJC3I,gBAAU,6DAPtB,gEAAU;AACT4I,gBAAQ,EAAE,YADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,oGAFS;AAGTC,qBAAa,EAAE,gEAAkBC,IAHxB;AAITC,iBAAS,EAAE,CAAC,8EAAD,EAAgB,sEAAhB,EAA2B,uFAA3B,CAJF;;;;AAAA,OAAV,CAOsB,E,+EAmDZ,8D,EACI,oE,EACM,sD,EACH,kE,EACI,uD,EACH,6D,EACQ,8E,EACP,oD,EACC,4D,EACE,sE,EACQ,uF,EACR,8D,EACA,sF,EACP,8E,EAhEO,GAAVhJ,UAAU,CAAV","file":"pages-detail-detail-module-es5.js","sourcesContent":["export default \"<ion-header *ngIf=\\\"!viewMode\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/home\\\"></ion-back-button>\\n      <ion-button routerLink=\\\"/home\\\" routerDirection=\\\"root\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"home\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"refresh()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"refresh-circle\\\" *ngIf=\\\"!loading\\\"></ion-icon>\\n        <ion-spinner name=\\\"{{'general._infiniteSpinner'|translate}}\\\" *ngIf=\\\"loading\\\"></ion-spinner>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <!-- new -->\\n \\n    <ion-button (click)=\\\"speak()\\\"> \\n   \\n      <ion-icon slot=\\\"icon-only\\\" *ngIf=\\\"speaking == true\\\" name=\\\"volume-high-outline\\\"></ion-icon>\\n      <ion-icon *ngIf=\\\"speaking == false\\\" name=\\\"volume-mute-outline\\\"></ion-icon>\\n      \\n    </ion-button>\\n   \\n    <!-- new end -->\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button *ngIf=\\\"detail && !type\\\" [color]=\\\"bookmarked?'danger':null\\\" (click)=\\\"changeBookmark()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"bookmarks\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"isFont=!isFont\\\">\\n        <ion-icon slot=\\\"icon-only\\\" [attr.danger]=\\\"isFont?true:null\\\" src=\\\"assets/svg/icon-font.svg\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n  <ion-toolbar *ngIf=\\\"isFont\\\">\\n    <ion-range [(ngModel)]=\\\"fontsize.value\\\" [min]=\\\"fontsize.min\\\" [max]=\\\"fontsize.max\\\" snaps=\\\"true\\\" pin=\\\"true\\\" (ionChange)=\\\"updateFont()\\\"></ion-range>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #content>\\n  <!-- Refresh -->\\n  <app-refresher slot=\\\"fixed\\\" [disabled]=\\\"!viewMode\\\" (ionRefresh)=\\\"refresh($event)\\\"></app-refresher>\\n  <!-- No data -->\\n  <app-no-data *ngIf=\\\"error && !detail\\\"></app-no-data>\\n  <!-- Loading -->\\n  <app-loading *ngIf=\\\"!detail && !error\\\"></app-loading>\\n  <div *ngIf=\\\"detail\\\" [style.fontSize]=\\\"(fontsize.value*2+(fontsize.value-7)*0.5)+'px'\\\">\\n    <!-- Featured -->\\n    <img *ngIf=\\\"detail.featured_url\\\" [src]=\\\"detail.featured_url\\\" width-100 margin-auto (click)=\\\"htmlContent && htmlContent.click($event)\\\" class=\\\"thumbnail-image object-cover\\\" />\\n    <!-- Title -->\\n    <div *ngIf=\\\"!viewMode\\\" padding-x2>\\n      <h3 [innerHTML]=\\\"detail.title.rendered\\\" class=\\\"ion-no-margin\\\"></h3>\\n      <h6 class=\\\"ion-margin-top\\\">{{detail.modified_gmt+'+00:00'|date:('detail._date_format'|translate)}}</h6>\\n      <h6 *ngIf=\\\"detail.m_categories\\\" overflow place class=\\\"ion-no-margin ion-text-nowrap\\\">\\n        <div *ngFor=\\\"let category of detail.m_categories\\\" class=\\\"ion-float-start ion-margin-end ion-padding-vertical max-width-100\\\"\\n          text-ellipsis [routerLink]=\\\"['/detail-category', category.id]\\\">\\n          <span [innerHTML]=\\\"category.name\\\" class=\\\"ion-margin-end ion-padding-end\\\"></span>\\n        </div>\\n      </h6>\\n    </div>\\n    <!-- Social share -->\\n    <!-- <ion-row *ngIf=\\\"!viewMode\\\" class=\\\"ion-align-items-center ion-padding ion-margin-bottom social-share\\\">\\n      <ion-col col-4 *ngFor=\\\"let item of socialShare\\\" class=\\\"ion-no-padding ion-padding-horizontal\\\">\\n        <ion-button size=\\\"small\\\" expand=\\\"block\\\" [ngClass]=\\\"item.id\\\" (click)=\\\"shareBy(item)\\\" class=\\\"ion-no-margin\\\">\\n          <ion-icon slot=\\\"icon-only\\\" [name]=\\\"item.icon\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row> -->\\n    <!-- Message require view ads -->\\n    <div *ngIf=\\\"!post && detail.required_rewards_ads\\\" padding-x2 class=\\\"ion-margin-bottom truewhite ion-text-center\\\">\\n      <div class=\\\"ion-padding\\\" danger-bg border-radius>\\n        <div class=\\\"ion-margin-vertical\\\">{{'detail.rewards.message'|translate}}</div>\\n        <ion-icon name=\\\"caret-forward-circle-outline\\\" tappable (click)=\\\"showRewards()\\\" font-64></ion-icon>\\n      </div>\\n    </div>\\n    <!-- Content -->\\n    <div *ngIf=\\\"post\\\" class=\\\"ion-padding ion-margin-bottom\\\">\\n      <!-- Content body -->\\n      <app-html-content #htmlContent class=\\\"ion-padding-horizontal\\\" [innerHTML]=\\\"post\\\" [content]=\\\"content\\\" makeSafe=\\\"true\\\"\\n        [(loading)]=\\\"loading\\\" [handleLoading]=\\\"false\\\" [data]=\\\"{id: id, link: detail.link}\\\">\\n      </app-html-content>\\n    </div>\\n    <!-- List posts -->\\n    <app-list-posts *ngIf=\\\"!viewMode && posts && posts.length > 0 && !type\\\" [posts]=\\\"posts\\\" templates=\\\"column\\\" class=\\\"in-categories horizontal-scroll ion-no-box-shadow\\\">\\n    </app-list-posts>\\n  </div>\\n  <!-- Go to top -->\\n  <app-goto-top slot=\\\"fixed\\\" [content]=\\\"content\\\"></app-goto-top>\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"!viewMode\\\">\\n  <ion-toolbar>\\n    <ion-row class=\\\"ion-justify-content-between ion-align-item-center\\\">\\n      <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"previous()\\\" [disabled]=\\\"type\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"chevron-back\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"next()\\\" [disabled]=\\\"type\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"chevron-forward\\\"></ion-icon>\\n      </ion-button>\\n      <!-- <ion-button fill=\\\"clear\\\" size=\\\"small\\\" [routerLink]=\\\"['/comment', id, detail?{status:detail.comment_status}:{}]\\\" [disabled]=\\\"!detail\\\" overflow-visible>\\n        <span *ngIf=\\\"detail?.m_comment_count\\\" absolute top start class=\\\"ion-margin-start\\\">\\n          <ion-badge color=\\\"danger\\\" class=\\\"ion-margin-start\\\">\\n            <span>{{detail.m_comment_count}}</span>\\n          </ion-badge>\\n        </span>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"chatbubbles\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"share()\\\" [disabled]=\\\"!detail\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"share\\\"></ion-icon>\\n      </ion-button> -->\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailPage } from './detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from '../../components/components.module';\n\nimport { DetailPageRoutingModule } from './detail-routing.module';\n\nimport { DetailPage } from './detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    ComponentsModule,\n    DetailPageRoutingModule\n  ],\n  declarations: [DetailPage]\n})\nexport class DetailPageModule {}\n","export default \"app-detail .thumbnail-image {\\n  max-height: 400px;\\n}\\napp-detail .in-categories .content {\\n  padding: var(--ion-padding) !important;\\n}\\napp-detail .in-categories .content .item {\\n  padding: var(--ion-padding) !important;\\n}\\napp-detail .in-categories .content .item:last-child {\\n  padding-right: calc(var(--ion-padding) * 2) !important;\\n}\\n[dir=rtl] app-detail .in-categories .content .item:last-child {\\n  padding-right: var(--ion-padding) !important;\\n  padding-left: calc(var(--ion-padding) * 2) !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGV0YWlsL2RldGFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxpQkFBQTtBQUFKO0FBR0k7RUFDRSxzQ0FBQTtBQUROO0FBRU07RUFDRSxzQ0FBQTtBQUFSO0FBQ1E7RUFDRSxzREFBQTtBQUNWO0FBQVU7RUFDRSw0Q0FBQTtFQUNBLHFEQUFBO0FBRVoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9kZXRhaWwvZGV0YWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1kZXRhaWwge1xuICAudGh1bWJuYWlsLWltYWdlIHtcbiAgICBtYXgtaGVpZ2h0OiA0MDBweDtcbiAgfVxuICAuaW4tY2F0ZWdvcmllcyB7XG4gICAgLmNvbnRlbnQge1xuICAgICAgcGFkZGluZzogdmFyKC0taW9uLXBhZGRpbmcpICFpbXBvcnRhbnQ7XG4gICAgICAuaXRlbSB7XG4gICAgICAgIHBhZGRpbmc6IHZhcigtLWlvbi1wYWRkaW5nKSAhaW1wb3J0YW50O1xuICAgICAgICAmOmxhc3QtY2hpbGQge1xuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0taW9uLXBhZGRpbmcpICogMikgIWltcG9ydGFudDtcbiAgICAgICAgICBbZGlyPVwicnRsXCJdICYge1xuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogdmFyKC0taW9uLXBhZGRpbmcpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IGNhbGModmFyKC0taW9uLXBhZGRpbmcpICogMikgIWltcG9ydGFudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","import { Component, OnInit, ViewEncapsulation, NgZone, ViewChild } from '@angular/core';\nimport { Platform, IonContent, NavController, AlertController } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Storage } from '@ionic/storage';\nimport { CoreService } from '../../services/core.service';\nimport { Toast } from '@ionic-native/toast/ngx';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { AdMobFree } from '@ionic-native/admob-free/ngx';\nimport { FirebaseAnalytics } from '@ionic-native/firebase-analytics/ngx';\nimport { HtmlContentComponent } from 'src/app/components/html-content/html-content.component';\nimport { UtitlitiesService } from 'src/app/services/utitlities.service';\nimport { take } from 'rxjs/operators';\nimport { SubSink } from 'src/app/classes/subsink';\nimport { BOOKMARK_PREFIX } from 'src/app/const/development';\nimport {TextToSpeech,TTSOptions} from \"@ionic-native/text-to-speech/ngx\";\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.page.html',\n  encapsulation: ViewEncapsulation.None,\n  providers: [SocialSharing, AdMobFree, FirebaseAnalytics],\n  styleUrls: ['./detail.page.scss'],\n})\nexport class DetailPage implements OnInit {\n  // Content element\n  @ViewChild('content', { read: IonContent, static: false }) content: IonContent;\n  // Html Content element\n  @ViewChild('htmlContent', { read: HtmlContentComponent, static: false }) htmlContent: HtmlContentComponent;\n  // id of post viewing\n  id: Number;\n  // true if is page else post\n  type: boolean;\n  // post slug for search data by slug\n  slug: string;\n  // endpoint request get detail post\n  endpoint: string;\n  // detail post data\n  detail: any;\n  // is bookmarked\n  bookmarked: boolean;\n  // is loading\n  _loading: boolean;\n  // loading control\n  _loadingCtrl;\n  // posts same categories\n  posts: Object[] = [];\n  // true when load detail post error\n  error: boolean;\n  // content of detail post sanitized\n  post: any;\n  // set true show change font size panel\n  isFont: boolean = false;\n  // font size for settings\n  fontsize: any = {\n    value: 9,\n    max: 12,\n    min: 7\n  };\n  speaking:boolean=false;\n  // translate for this page\n  trans: Object;\n  // data of social share\n  socialShare: Object[];\n  // recatcha\n  recaptcha: string;\n  // rewards ads object\n  rewards: any = {\n    key: null,\n    subs: new SubSink(),\n  };\n  // set true enable view mode (only content)\n  viewMode: boolean;\n\n  constructor(\n    route: ActivatedRoute,\n    translate: TranslateService,\n    private storage: Storage,\n    private core: CoreService,\n    private platform: Platform,\n    private Toast: Toast,\n    private SocialSharing: SocialSharing,\n    private ngZone: NgZone,\n    private navCtrl: NavController,\n    private AdMobFree: AdMobFree,\n    private FirebaseAnalytics: FirebaseAnalytics,\n    private alertCtrl: AlertController,\n    private utilities: UtitlitiesService,\n    private tts:TextToSpeech\n  ) {\n    translate.get('detail').subscribe(trans => {\n      this.trans = trans;\n      if (this.trans['_socialShare'] && this.trans['_socialShare'].length > 0) {\n        this.socialShare = this.trans['_socialShare'];\n      }\n    });\n    // get params\n    route.snapshot.params = Object.assign({}, route.snapshot.params, route.snapshot.data);\n    this.id = Number(route.snapshot.params['id']);\n    this.type = route.snapshot.params['type'];\n    this.slug = route.snapshot.params['slug'];\n    this.viewMode = !!route.snapshot.params['viewMode'];\n    this.setEndpoint();\n    if (Number.isInteger(Number(this.id))) {\n      // get bookmark of this post\n      storage.get(BOOKMARK_PREFIX + this.id).then(detail => {\n        if (detail && this.core.getHostname(detail['link']) == this.core.hostname) {\n          // if this post bookmarked\n          this.detail = detail;\n          this.getContent();\n          this.bookmarked = true;\n          this.prepareView();\n        } else this.getPosts();\n      });\n    }\n    // get font size from storage\n    storage.get('fontsize').then(fontsize => {\n      if (!fontsize || fontsize < this.fontsize['min'] || fontsize > this.fontsize['max']) this.fontsize['value'] = this.fontsize['min'] + 2;\n      else this.fontsize['value'] = fontsize;\n    });\n    // function when platform ready\n    this.platformReady();\n  }\n\n  get loading(): boolean {\n    return this._loading;\n  }\n\n  set loading(value: boolean) {\n    this._loading = value;\n    if (this.viewMode) {\n      if (value) {\n        this.core.showLoading();\n      } else {\n        this.core.hideLoading();\n      }\n    }\n  }\n\n  speak()\n  {\n    //detail.title.rendered\"\n    if(this.speaking == true)\n    {\n      this.speaking = false;\n    let options:TTSOptions={\n      text:this.detail.title.rendered.trim(),\n      locale:\"en-ES\",\n      rate:1.5\n      \n      \n    }\n   \n    this.tts.speak(options).then((val)=>{\n      alert(JSON.stringify(val));\n\n    },(err)=>{\n      alert(JSON.stringify(err));\n    })\n  }\n  else{\n    this.tts.stop().then((val)=>{\n      alert(JSON.stringify(val));\n      this.speaking = true;\n    \n\n    },(err)=>{\n      alert(JSON.stringify(err));\n    })\n   \n\n  }\n  }\n  stopSpeak()\n  {\n    this.tts.stop();\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n    this.rewards['subs'].unsubscribe();\n  }\n\n  setEndpoint() {\n    if (this.type) {\n      if (this.id) this.endpoint = 'pages/' + this.id;\n      else if (this.slug) this.endpoint = 'pages/?slug=' + this.slug;\n    } else this.endpoint = 'posts/' + this.id;\n  }\n\n  platformReady() {\n    this.platform.ready().then(() => {\n      if (!this.platform.is('cordova')) return;\n      // show Interstitial ads\n      if (this.AdMobFree) {\n        if (!this.core.getState('not_show_interstitial')) {\n          this.AdMobFree.interstitial.isReady().then(ready => {\n            if (ready) this.AdMobFree.interstitial.show().catch(() => { });\n          }).catch(() => { });\n        } else this.core.setState('not_show_interstitial', false);\n      }\n    });\n  }\n\n  ionViewDidEnter() {\n    this.platform.ready().then(() => {\n      if (!this.platform.is('cordova')) return;\n      if (this.AdMobFree) {\n        if (Number(this.core.getConfig('ads_after')) <= Number(this.core.getConfig('detail_count'))) {\n          // reset detail_count\n          this.core.patchConfig('detail_count', 0);\n          if (window['AdMob'] && window['AdMob']['interstitial']['_config']['id'])\n            this.AdMobFree.interstitial.prepare().catch(() => { });\n        }\n      }\n      // plus detail_count;\n      if (this.core.getConfig('detail_count')) {\n        this.core.patchConfig('detail_count', Number(this.core.getConfig('detail_count')) + 1);\n      } else this.core.patchConfig('detail_count', 1);\n    });\n  }\n\n  ionViewWillLeave() {\n    // when leave Detail page\n    this.stopMedia();\n    // try prepare banner one more time\n    if (window['AdMob'] && window['AdMob']['banner']['_config']['id'] && this.core.getState('banner_load_fail')) {\n      this.AdMobFree.banner.prepare().catch(() => { });\n    }\n  }\n\n  getPosts(endpoint?: string, isRefresh?: boolean) {\n    if (!this.endpoint && !endpoint) return;\n    this.core.request(endpoint || this.endpoint).subscribe(detail => {\n      // if get data by slug\n      if (!this.id && this.slug) {\n        if (Array.isArray(detail) && detail.length) {\n          detail = detail[0];\n        } else {\n          if (isRefresh) this.loading = false;\n          this.error = true;\n          return;\n        }\n      }\n      if (endpoint) this.type = endpoint.indexOf('pages/') == 0;\n      // if isn't bookmark request to website get post\n      this.detail = detail;\n      // after get data by slug successful switch to get data by id\n      if (!this.id) {\n        this.id = this.detail['id'];\n        this.setEndpoint();\n      }\n      // prepare cotent\n      this.getContent();\n      if (isRefresh) {\n        this.loading = false;\n        if (this.bookmarked) this.updateBookmark();\n      } else this.prepareView();\n      this.error = false;\n    }, err => {\n      if (!endpoint && err['error']['code'] == 'rest_post_invalid_id') {\n        this.getPosts((this.endpoint.indexOf('pages/') != 0 ? 'pages/' : 'posts/') + this.id);\n      } else this.error = true;\n      if (isRefresh) this.loading = false;\n    });\n  }\n\n  getContent() {\n    // prepare content before show\n    if (this.detail) {\n      // if have setting required rewards ads\n      // && window['AdMob']['rewardvideo']['_config']['id']\n      if (!this.post && this.detail['required_rewards_ads'] && window['AdMob']) {\n        let postRequired = this.detail['required_rewards_ads'];\n        this.rewards['key'] = 'required_rewards_ads_' + this.detail['id'];\n        this.storage.get(this.rewards['key']).then(required => {\n          if (!required) required = postRequired;\n          if (required >= postRequired) {\n            this.showAlertRewards();\n          } else {\n            this.storage.set(this.rewards['key'], required + 1);\n            this.setContent();\n          }\n        });\n      } else this.setContent();\n    }\n  }\n\n  setContent() {\n    // set content\n    this.detail['encode_link'] = encodeURIComponent(this.detail['link']);\n    this.post = this.detail['content']['rendered'];\n    this.core.setState('last_detail', this.detail);\n  }\n\n  async showAlertRewards() {\n    let alert = await this.alertCtrl.create({\n      header: this.trans['rewards']['title'],\n      message: this.trans['rewards']['message'],\n      buttons: [\n        {\n          text: this.trans['rewards']['yes'],\n          handler: () => {\n            this.showRewards();\n          }\n        },\n        { text: this.trans['rewards']['no'] }\n      ]\n    });\n    alert.present();\n  }\n\n  showRewards() {\n    if (!this.AdMobFree) return;\n    // Event\n    this.rewards['subs'] = this.AdMobFree.on(this.AdMobFree.events.REWARD_VIDEO_LOAD).pipe(take(1)).subscribe(() => {\n      this.core.hideLoading();\n      this.AdMobFree.rewardVideo.show().catch(() => { });\n    });\n    this.rewards['subs'] = this.AdMobFree.on(this.AdMobFree.events.REWARD_VIDEO_REWARD).pipe(take(1)).subscribe(() => {\n      this.storage.set(this.rewards['key'], 1);\n      this.ngZone.run(() => {\n        this.setContent();\n      });\n    });\n    this.rewards['subs'] = this.AdMobFree.on(this.AdMobFree.events.REWARD_VIDEO_LOAD_FAIL).subscribe(() => {\n      this.core.hideLoading();\n      this.ngZone.run(() => {\n        // this.setContent();\n      });\n      this.rewards['subs'].unsubscribe();\n    });\n    this.AdMobFree.rewardVideo.isReady().then(async ready => {\n      if (ready) this.AdMobFree.rewardVideo.show().catch(() => { });\n      else {\n        this.core.showLoading();\n        this.AdMobFree.rewardVideo.prepare().catch(() => { });\n      }\n    }).catch(() => { });\n  }\n\n  prepareView() {\n    if (this.platform.is('cordova')) {\n      if (this.core.getState('agreed_terms')) this.FirebaseAnalytics.logEvent('app_detail_page', {\n        id: this.id,\n        title: this.detail['title']['rendered'],\n        link: this.detail['link']\n      });\n    }\n    if (this.type) return;\n    let params = {\n      categories: this.detail['categories'].join(','),\n      exclude: this.id\n    };\n    // get posts same category\n    this.core.getPosts(params).subscribe(posts => {\n      if (posts.length > 0) {\n        this.posts = [];\n        this.posts = this.posts.concat(posts);\n      }\n    }, err => { });\n  }\n\n  refresh(refresher?) {\n    if (refresher) refresher.target.complete();\n    if (this.loading) return;\n    // refresh post data\n    this.loading = true;\n    // update last_time over cache\n    this.core.updateTime();\n    this.getPosts(null, true);\n  }\n\n  stopMedia() {\n    this.utilities.stopMedia();\n  }\n\n  updateBookmark() {\n    // update bookmark on Storage\n    this.storage.set(BOOKMARK_PREFIX + this.detail['id'], this.detail);\n  }\n\n  changeBookmark() {\n    // bookmark or remove bookmark\n    this.bookmarked = !this.bookmarked;\n    if (this.bookmarked) {\n      this.updateBookmark();\n      this.Toast.showShortCenter(this.trans['bookmark']).subscribe(() => { }, () => { });\n    } else {\n      this.storage.remove(BOOKMARK_PREFIX + this.id).then(() => {\n        this.Toast.showShortCenter(this.trans['unbookmark']).subscribe(() => { }, () => { });\n      })\n    }\n  }\n\n  share() {\n    // when click share button\n    let title = document.createElement('span');\n    title.innerHTML = this.detail['title']['rendered'];\n    let link = document.createElement('span');\n    link.innerHTML = this.detail['link'];\n    let message = title.textContent + '\\r\\n' + decodeURIComponent(link.textContent);\n    this.SocialSharing.share(message, null, null, null);\n  }\n\n  shareBy(item: Object) {\n    if (!item) item = {};\n    let app = this.platform.is('ios') ? item['ios'] : item['android'];\n    if (app && this.detail['link']) {\n      this.SocialSharing.canShareVia(app, null, null, null, this.detail['link']).then(() => {\n        switch (app) {\n          case 'whatsapp':\n            this.SocialSharing.shareViaWhatsApp(null, null, this.detail['link']).catch(() => this.share());\n            break;\n          default:\n            this.SocialSharing.shareVia(app, null, null, null, this.detail['link']).catch(() => this.share());\n            break;\n        }\n      }).catch(() => {\n        this.share();\n      });\n    } else this.share();\n  }\n\n  updateFont() {\n    // update font size settings to Storage\n    this.storage.set('fontsize', this.fontsize['value']);\n  }\n\n  previous() {\n    // go to previous post\n    if (!this.detail || !this.detail['m_previous_post']) {\n      this.Toast.showLongCenter(this.trans['no_previous']).subscribe(() => { }, () => { });\n      return;\n    }\n    this.navCtrl.navigateBack(['/detail', this.detail['m_previous_post']]);\n  }\n\n  next() {\n    // go to next post\n    if (!this.detail || !this.detail['m_next_post']) {\n      this.Toast.showLongCenter(this.trans['no_next']).subscribe(() => { }, () => { });\n      return;\n    }\n    this.navCtrl.navigateForward(['/detail', this.detail['m_next_post']]);\n  }\n}\n"]}