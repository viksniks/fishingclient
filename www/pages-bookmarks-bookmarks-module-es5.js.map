{"version":3,"sources":["webpack:///src/app/pages/bookmarks/bookmarks.page.html","webpack:///src/app/pages/bookmarks/bookmarks-routing.module.ts","webpack:///src/app/pages/bookmarks/bookmarks.module.ts","webpack:///src/app/pages/bookmarks/bookmarks.page.scss","webpack:///src/app/pages/bookmarks/bookmarks.page.ts"],"names":["routes","path","component","BookmarksPageRoutingModule","imports","forChild","exports","BookmarksPageModule","declarations","BookmarksPage","storage","translate","alertCtrl","core","rawPosts","get","subscribe","trans","forEach","value","key","indexOf","getHostname","hostname","bookmark","id","title","date","image","then","onSearch","loaded","posts","keyword","post","toLowerCase","push","remove","create","header","message","buttons","text","handler","tmpBookmark","Object","assign","alert","present","selector","template","encapsulation","None"],"mappings":"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","file":"pages-bookmarks-bookmarks-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"toolbar-searchbar-common\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-searchbar [(ngModel)]=\\\"keyword\\\" (search)=\\\"onSearch()\\\" (ionClear)=\\\"keyword=''; onSearch()\\\"\\n      [placeholder]=\\\"'bookmark.search'|translate\\\" class=\\\"ion-text-start\\\">\\n      </ion-searchbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"clear()\\\">\\n\\t\\t\\t\\t<ion-icon slot=\\\"icon-only\\\" src=\\\"assets/svg/icon-clean.svg\\\"></ion-icon>\\n\\t\\t\\t</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<div class=\\\"list-bookmark\\\">\\n\\t\\t<!-- Loading -->\\n    <app-loading *ngIf=\\\"!loaded\\\"></app-loading>\\n    <!-- no data -->\\n    <app-no-data *ngIf=\\\"loaded && posts && posts.length < 1\\\" src=\\\"assets/imgs/no-data-bookmarks.svg\\\">\\n      <div place class=\\\"ion-margin-bottom\\\">{{'bookmark.noData.message1'|translate}}</div>\\n      <div place class=\\\"ion-margin-bottom\\\">{{'bookmark.noData.message2'|translate}}</div>\\n      <ion-button size=\\\"small\\\" class=\\\"ion-margin-top\\\" routerLink=\\\"/home\\\" routerDirection=\\\"root\\\">{{'bookmark.noData.button'|translate}}</ion-button>\\n    </app-no-data>\\n\\t\\t<!-- List posts -->\\n\\t\\t<ion-list *ngIf=\\\"loaded && posts && posts.length > 0\\\" box-shadow class=\\\"ion-no-margin\\\">\\n\\t\\t\\t<ion-item-sliding *ngFor=\\\"let post of posts\\\">\\n\\t\\t\\t\\t<ion-item lines=\\\"none\\\" detail=\\\"false\\\" [routerLink]=\\\"['/detail', post.id]\\\">\\n\\t\\t\\t\\t\\t<!-- thumbnail image -->\\n\\t\\t\\t\\t\\t<ion-thumbnail slot=\\\"start\\\" border-radius>\\n\\t\\t\\t\\t\\t\\t<img [src]=\\\"post.image||'assets/imgs/no-image-square.png'\\\">\\n          </ion-thumbnail>\\n          <ion-label>\\n            <!-- title post -->\\n            <div [innerHTML]=\\\"post.title\\\" class=\\\"ion-margin-bottom ion-text-wrap\\\"></div>\\n            <!-- date modified post -->\\n            <div place overflow><small class=\\\"ion-float-start\\\">{{post.date|time}}</small></div>\\n          </ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<ion-item-options side=\\\"end\\\">\\n          <ion-item-option (click)=\\\"delete(post)\\\" color=\\\"danger\\\">{{'bookmark.delete'|translate}}</ion-item-option>\\n\\t\\t\\t\\t</ion-item-options>\\n\\t\\t\\t</ion-item-sliding>\\n\\t\\t</ion-list>\\n\\t</div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BookmarksPage } from './bookmarks.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BookmarksPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BookmarksPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BookmarksPageRoutingModule } from './bookmarks-routing.module';\n\nimport { BookmarksPage } from './bookmarks.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    ComponentsModule,\n    PipesModule,\n    BookmarksPageRoutingModule\n  ],\n  declarations: [BookmarksPage]\n})\nexport class BookmarksPageModule {}\n","export default \"app-bookmarks .list-bookmark .item {\\n  --padding-start: 0;\\n}\\napp-bookmarks .list-bookmark .item ion-thumbnail {\\n  --size: 80px;\\n  min-width: var(--size);\\n  min-height: var(--size);\\n  margin: 10px !important;\\n  overflow: hidden;\\n}\\napp-bookmarks .list-bookmark .item .item-inner {\\n  --margin-right: 2px;\\n  --margin-left: 2px;\\n}\\napp-bookmarks .list-bookmark ion-item-options {\\n  border-bottom: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYm9va21hcmtzL2Jvb2ttYXJrcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUk7RUFDRSxrQkFBQTtBQUhOO0FBSU07RUFDRSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUFGUjtBQUlNO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtBQUZSO0FBS0k7RUFDRSxtQkFBQTtBQUhOIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYm9va21hcmtzL2Jvb2ttYXJrcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiLi4vLi4vLi4vdGhlbWUvL3NoYXJlZF92YXJpYWJsZXMuc2Nzc1wiO1xuXG5hcHAtYm9va21hcmtzIHtcbiAgLmxpc3QtYm9va21hcmsge1xuICAgIC5pdGVtIHtcbiAgICAgIC0tcGFkZGluZy1zdGFydDogMDtcbiAgICAgIGlvbi10aHVtYm5haWwge1xuICAgICAgICAtLXNpemU6IDgwcHg7XG4gICAgICAgIG1pbi13aWR0aDogdmFyKC0tc2l6ZSk7XG4gICAgICAgIG1pbi1oZWlnaHQ6IHZhcigtLXNpemUpO1xuICAgICAgICBtYXJnaW46IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIH1cbiAgICAgIC5pdGVtLWlubmVyIHtcbiAgICAgICAgLS1tYXJnaW4tcmlnaHQ6IDJweDtcbiAgICAgICAgLS1tYXJnaW4tbGVmdDogMnB4O1xuICAgICAgfVxuICAgIH1cbiAgICBpb24taXRlbS1vcHRpb25zIHtcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gICAgfVxuICB9XG59XG4iXX0= */\";","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AlertController } from '@ionic/angular';\nimport { CoreService } from 'src/app/services/core.service';\n\n@Component({\n  selector: 'app-bookmarks',\n  templateUrl: './bookmarks.page.html',\n  encapsulation: ViewEncapsulation.None,\n  styleUrls: ['./bookmarks.page.scss'],\n})\nexport class BookmarksPage implements OnInit {\n  // list bookmark from Storage\n  rawPosts: Object = {};\n  // list bookmark show\n  posts: Object[];\n  // set true loaded bookmark, search bookmark\n  loaded: boolean;\n  // keyword search bookmark by title\n  keyword: string;\n  // translate for this page\n  trans: Object;\n\n  constructor(\n    private storage: Storage,\n    translate: TranslateService,\n    private alertCtrl: AlertController,\n    private core: CoreService,\n  ) {\n    translate.get('bookmark').subscribe(trans => this.trans = trans);\n    // foreach Storage get Bookmark\n    storage.forEach((value, key) => {\n      // if key has prefix bookmark -> this element is bookmark -> push to list Bookmark\n      if (key.indexOf('bookmark') == 0 && value['id'] && value['title'] && this.core.getHostname(value['link']) == this.core.hostname) {\n        this.rawPosts[key] = {\n          bookmark: key,\n          id: value['id'],\n          title: value['title']['rendered'],\n          date: value['modified_gmt'],\n          image: value['featured_square_url']\n        };\n      }\n    }).then(() => {\n      // when get all Bookmark prepare for Seach function\n      this.onSearch();\n      this.loaded = true;\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  onSearch() {\n    this.loaded = false;\n    // reset list posts show in results\n    this.posts = [];\n    // prepare keyword\n    if (!this.keyword) this.keyword = '';\n    // foreach list Bookmark get results\n    for (var key in this.rawPosts) {\n      let post = this.rawPosts[key];\n      if (post && post['title'] && post['title'].toLowerCase().indexOf(this.keyword.toLowerCase()) != -1) this.posts.push(post);\n    }\n    this.loaded = true;\n  }\n\n  delete(post: Object) {\n    if (!post || !post['bookmark']) return;\n    this.storage.remove(post['bookmark']).then(() => {\n      delete this.rawPosts[post['bookmark']];\n      this.onSearch();\n    });\n  }\n\n  async clear() {\n    let alert = await this.alertCtrl.create({\n      header: this.trans['clear']['title'],\n      message: this.trans['clear']['message'],\n      buttons: [\n        {\n          text: this.trans['clear']['yes'],\n          handler: () => {\n            let tmpBookmark: Object = Object.assign({}, this.rawPosts);\n            // for list bookmark delete in Storage\n            for (var key in tmpBookmark) {\n              this.storage.remove(key);\n            }\n            this.rawPosts = {};\n            this.onSearch();\n          }\n        },\n        { text: this.trans['clear']['no'] }\n      ]\n    });\n    alert.present();\n  }\n}\n"]}